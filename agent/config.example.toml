# icooclaw 配置文件示例

[database]
path = "./data/icooclaw.db"

[log]
level = "info"
format = "text"
output = "./logs/icooclaw.log"  # 日志输出文件路径，为空则只输出到控制台

workspace = "~/.icooclaw/workspace"

# OpenRouter 配置 (推荐用于 Claude, GPT 等多种模型)
[providers.openrouter]
enabled = true
api_key = "sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
model = "anthropic/claude-sonnet-4-20250514"

# OpenAI 配置
[providers.openai]
enabled = false
api_key = "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
model = "gpt-4o"

# Anthropic 配置
[providers.anthropic]
enabled = false
api_key = "sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
model = "claude-sonnet-4-20250514"

# DeepSeek 配置
[providers.deepseek]
enabled = false
api_key = "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
model = "deepseek-chat"

# Custom Provider (用于本地模型如 vLLM, LM Studio, Ollama 等)
[providers.custom]
enabled = false
api_key = "no-key"
api_base = "http://localhost:8000/v1"
model = "qwen2.5"

# OpenAI 兼容 Provider (支持额外请求头，可配置多个)
# 使用 [[providers.compatible]] 数组语法
[[providers.compatible]]
enabled = false
name = "local-llm"                     # Provider 名称
api_key = "no-key"                    # API 密钥
api_base = "http://localhost:8000/v1" # API 基础地址
model = "qwen2.5"                     # 默认模型
[providers.compatible.headers]        # 额外请求头（可选）
# X-Custom-Header = "value"

[[providers.compatible]]
enabled = false
name = "custom-api"
api_key = "sk-xxxxxxxxxxxxxxxx"
api_base = "https://api.example.com/v1"
model = "gpt-4"
[providers.compatible.headers]
# X-API-Version = "2024-01"

# Agent 默认配置
[agents]
default_provider = "openrouter"

[agents.defaults]
name = "icooclaw"
model = "anthropic/claude-sonnet-4-20250514"
temperature = 0.7
max_tokens = 4096
memory_window = 10
system_prompt = "You are a helpful AI assistant."

# WebSocket 通道配置
[channels.websocket]
enabled = false
host = "0.0.0.0"
port = 8080

# 工具配置
[tools]
enabled = true
allow_file_read = true
allow_file_write = true
allow_file_edit = true
allow_file_delete = true
allow_exec = false  # 默认关闭，需要手动开启以保证安全
workspace = "~/.icooclaw/workspace"
exec_timeout = 30  # Shell命令超时时间（秒）

# JavaScript 工具配置
[tools.js]
enabled = true                    # 是否启用 JS 工具
tools_dir = "tools"              # JS 工具目录（相对于 workspace）
max_memory = 10485760           # 最大内存（字节），默认 10MB
timeout = 30                     # 执行超时（秒）

# JS 工具默认权限（可通过 create_tool 的 permissions 参数覆盖）
[tools.js.permissions]
file_read = false               # 允许读取文件
file_write = false              # 允许写入文件
file_delete = false             # 允许删除文件
network = false                 # 允许网络访问
exec = false                    # 允许执行命令
http_timeout = 30              # HTTP 请求超时（秒）
exec_timeout = 30               # 命令执行超时（秒）
# allowed_domains = ["api.example.com"]  # 允许的域名白名单（空=允许所有）

# 记忆配置
[memory]
consolidation_threshold = 50    # 消息数达到此值时整合
summary_enabled = true          # 是否启用摘要
auto_save = false               # 是否自动保存
max_memory_age = 30            # 记忆最大保留天数

# 调度器配置
[scheduler]
enabled = false                 # 是否启用调度器
heartbeat_interval = 30        # 心跳间隔（分钟）

# MCP (Model Context Protocol) 配置
[mcp]
enabled = false                 # 是否启用 MCP

# MCP 服务器配置示例
# [[mcp.servers]]
# name = "example-server"
# command = "node"
# args = ["server.js"]
# [mcp.servers.env]
# API_KEY = "xxx"
