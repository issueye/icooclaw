# icooclaw 配置文件示例
# config.toml

# ============================================
# 数据库配置
# ============================================
[database]
path = "./data/icooclaw.db"

# ============================================
# 日志配置
# ============================================
[log]
level = "info"      # debug, info, warn, error
format = "text"     # json, text

# ============================================
# 工作区配置
# ============================================
workspace = "~/.icooclaw/workspace"

# ============================================
# LLM Provider配置
# ============================================
[providers.openrouter]
enabled = true
api_key = "sk-or-v1-xxxx"
model = "anthropic/claude-opus-4-5"

[providers.anthropic]
enabled = false
api_key = "sk-ant-xxxx"

[providers.openai]
enabled = false
api_key = "sk-xxxx"

[providers.deepseek]
enabled = false
api_key = "sk-xxxx"

[providers.custom]
enabled = false
api_key = "no-key"
api_base = "http://localhost:8000/v1"
model = "qwen2.5"

# ============================================
# Agent配置
# ============================================
[agents]
default_provider = "openrouter"

[agents.defaults]
name = "default"
model = "anthropic/claude-opus-4-5"
temperature = 0.7
max_tokens = 4096
memory_window = 50
system_prompt = "You are a helpful AI assistant."

# ============================================
# 消息通道配置
# ============================================
[channels.telegram]
enabled = false
token = "1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"

[channels.discord]
enabled = false
token = "xxxx"

[channels.feishu]
enabled = false
app_id = "cli_xxxx"
app_secret = "xxxx"

[channels.dingtalk]
enabled = false
client_id = "xxxx"
client_secret = "xxxx"

[channels.slack]
enabled = false
bot_token = "xoxb-xxxx"
app_token = "xapp-xxxx"

[channels.email]
enabled = false
imap_host = "imap.gmail.com"
imap_port = 993
smtp_host = "smtp.gmail.com"
smtp_port = 587

[channels.websocket]
enabled = false
address = ":8080"

[channels.webhook]
enabled = false
host = "0.0.0.0"
port = 8081
path = "/webhook"
secret = ""  # 可选的签名密钥

# ============================================
# 调度器配置
# ============================================
[scheduler]
enabled = false
heartbeat_interval = 30  # 分钟

# ============================================
# 工具配置
# ============================================
[tools]
enabled = true
allow_file_read = true
allow_file_write = true
allow_file_edit = true
allow_file_delete = true
allow_exec = false  # 默认关闭，需要手动开启以保证安全
workspace = "~/.icooclaw/workspace"
exec_timeout = 30  # Shell命令超时时间（秒）

# ============================================
# MCP配置
# ============================================
[mcp]
enabled = false

[mcp.servers]
# 文件系统服务器示例 (stdio)
[mcp.servers.filesystem]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-filesystem", "/path/to/dir"]
env = {}
transport = "stdio"  # stdio or http
timeout = 30  # 秒

# Brave Search 服务器示例
[mcp.servers.brave-search]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-brave-search"]
env = { BRAVE_API_KEY = "xxx" }
transport = "stdio"

# HTTP SSE 服务器示例
[mcp.servers.custom-http]
command = ""
transport = "http"
url = "http://localhost:3000/sse"
timeout = 60

# ============================================
# 内存配置
# ============================================
[memory]
consolidation_threshold = 50  # 消息数达到此值时整合
summary_enabled = true        # 启用对话摘要
auto_save = false             # 自动保存重要信息到记忆
max_memory_age = 30           # 记忆最大保留天数

# ============================================
# 安全配置
# ============================================
[security]
restrict_to_workspace = false
